import { JovoError } from '@jovotech/common';
export function buildDuplicateGlobalIntentsErrorMessage(entries, separator = '\n - ') {
    const duplicateEntriesText = entries
        .map(([intentName, handlers]) => {
        const textBlocks = handlers.map((handler) => `${handler.target.name}.${handler.propertyKey.toString()}`);
        const startText = textBlocks.slice(0, textBlocks.length - 1);
        const text = `${startText.join(separator)} and ${textBlocks[textBlocks.length - 1]}`;
        return `${intentName} in ${text}`;
    })
        .join('; ');
    return `Duplicate global intent names detected:${separator}${duplicateEntriesText}.`;
}
// TODO improve to also display path of the components that cause the error
export class DuplicateGlobalIntentsError extends JovoError {
    constructor(entries) {
        super({
            message: buildDuplicateGlobalIntentsErrorMessage(entries),
            hint: 'Check the intentMap as well.',
        });
    }
}
//# sourceMappingURL=DuplicateGlobalIntentsError.js.map