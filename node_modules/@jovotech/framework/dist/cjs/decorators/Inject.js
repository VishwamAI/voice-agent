"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Inject = void 0;
const InjectMetadata_1 = require("../metadata/InjectMetadata");
const MetadataStorage_1 = require("../metadata/MetadataStorage");
/**
 * Decorator to specify a dependency injection token for a constructor parameter.
 *
 * If `@Inject()` is omitted or used without a token parameter, the type of the parameter is used as the token.
 *
 * @param token
 * @constructor
 */
function Inject(token) {
    return function (target, propertyKey, index) {
        let resolvedToken;
        if (token) {
            resolvedToken = token;
        }
        else {
            resolvedToken = Reflect.getMetadata('design:paramtypes', target)[index];
        }
        const metadata = new InjectMetadata_1.InjectMetadata(target, index, resolvedToken);
        const storage = MetadataStorage_1.MetadataStorage.getInstance();
        storage.addInjectMetadata(metadata);
    };
}
exports.Inject = Inject;
//# sourceMappingURL=Inject.js.map