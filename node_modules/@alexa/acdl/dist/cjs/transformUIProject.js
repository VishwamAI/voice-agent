"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isUISkill = exports.transformUIProject = void 0;
const fs_extra_1 = __importDefault(require("fs-extra"));
const path_1 = __importDefault(require("path"));
const ask = __importStar(require("./ast"));
const project_1 = require("./project");
const prelude_1 = require("./ast/prelude");
const print_1 = require("./print");
const visit_1 = require("./visit");
const package_1 = require("./package");
/**
 * UI Skill Namespaces
 */
const uiSkillNamespaces = new Set(["dialogs", "audio_responses", "visual_responses", "utterances", "apis", "types"]);
/**
 * Skill Level Responses Name
 */
const skillLevelResponses = [
    { skillLevelResponse: "welcome", skillLevelResponseName: "AlexaConversationsWelcome" },
    { skillLevelResponse: "out_of_domain", skillLevelResponseName: "AlexaConversationsOutOfDomain" },
    { skillLevelResponse: "bye", skillLevelResponseName: "AlexaConversationsBye" },
    { skillLevelResponse: "reqmore", skillLevelResponseName: "AlexaConversationsRequestMore" },
    { skillLevelResponse: "provide_help", skillLevelResponseName: "AlexaConversationsProvideHelp" },
];
/**
 * Keeps track of all the locales used in the current UI skill
 */
const localesUsed = new Set();
/**
 * If the current project is a UI skill, then we flatten the locale directories.
 * As well as updating the file names, namespaces, and relative paths to prompts.
 * The boolean value returned from isUISkill method determines whether a skill is UI skill or not.
 * @param project UI Project
 * @returns UI Project with updated directories, paths, and namespaces, as well as skill action json file
 */
async function transformUIProject(project) {
    await flattenDirectoryAndChangeFileNames(project);
    await fs_extra_1.default.writeFile(path_1.default.join(project.config.rootDir, "skill-package", project.config.srcDir, "skill.acdl"), (0, print_1.printModule)(await createSkillAction(project), project.getTypeChecker()));
    const source = await (0, package_1.loadPackage)(project.config.rootDir, undefined, true); // load project again due to updated paths and filenames and skill action json
    if (source === undefined) {
        throw new Error(`failed to reload source`);
    }
    return resolveUIProject(new project_1.Project({
        config: project.config,
        source,
        external: project.external,
    }));
}
exports.transformUIProject = transformUIProject;
/**
 * Passes each source to resolveUIModule, where it updates the namespaces and relative paths to prompts
 * @param project Project
 * @returns project with updated namespaces and relative paths to prompts
 */
function resolveUIProject(project) {
    const eventRequestActs = new Map();
    return new project_1.Project({
        config: project.config,
        external: project.external,
        source: {
            ...project.source,
            modules: project.source.modules
                .sort((a, b) => { var _a, _b; return (((_a = b.content) === null || _a === void 0 ? void 0 : _a._uri) || "").localeCompare(((_b = a.content) === null || _b === void 0 ? void 0 : _b._uri) || ""); })
                .map((mod) => ({
                ...mod,
                content: mod.content ? resolveUIModule(mod.content, project.getTypeChecker(), eventRequestActs) : undefined,
            })),
        },
    });
}
/**
 * Updates the namespaces and relative paths to prompts for each expressions on Module
 * @param mod Module content
 * @param checker project type checker
 * @param eventRequestActs map of event names for request acts
 * @returns Module content with updated namespaces and relative paths to prompts and display
 */
function resolveUIModule(mod, checker, eventRequestActs) {
    var _a, _b;
    const localePrefix = localesUsed.size === 1 ? "" : `${(_a = mod.uri.split("/").pop()) === null || _a === void 0 ? void 0 : _a.substr(0, 5).replace("-", "_")}.`;
    return new ask.Module(mod.uri, mod.schema, mod.namespace, mod.imports, mod.exports, (_b = mod.expressions) === null || _b === void 0 ? void 0 : _b.map((expr) => transformUINodes(expr, localePrefix, checker, eventRequestActs)));
}
/**
 * Updates the namespaces with locale prefix
 * i.e. apis.AddCustomPizzaApi => en_GB.apis.AddCustomPizzaApi
 * @param oldName name to potentially update
 * @param localePrefix The prefix containing the locale to be added to type names
 * @returns the name with locale prefix if oldName uses one of the UI namespaces
 */
function getNameInLocale(oldName, localePrefix) {
    if (!localePrefix) {
        return oldName || "";
    }
    const name = oldName || "";
    const dotIndex = name.indexOf(".");
    if (dotIndex === -1) {
        return name;
    }
    const beforeDot = name.substring(0, dotIndex);
    if (!uiSkillNamespaces.has(beforeDot)) {
        return name;
    }
    return localePrefix + name;
}
/**
 * Updates the namespaces by appending the locale prefix to avoid conflict
 * As well as updating all the relative paths to prompts as the directory structure is changed.
 * It is safe to assume to change all occurrences of "../../" to "../" as this is only used when referencing prompts
 * @param node Expression of the Module
 * @param localePrefix The prefix containing the locale to be added to type names
 * @param checker project type checker
 * @param eventRequestActs map of event names for request acts
 * @returns New node with updated namespace and relative path to prompts and display
 */
function transformUINodes(node, localePrefix, checker, eventRequestActs) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
    if (node.kind === "Name") {
        return new ask.Name(getNameInLocale(node.name, localePrefix));
    }
    if (node.kind === "NameDeclaration") {
        if (((_a = node.name) === null || _a === void 0 ? void 0 : _a.name) &&
            ((_b = node.expression) === null || _b === void 0 ? void 0 : _b.kind) === "Call" &&
            ((_c = node.expression.name) === null || _c === void 0 ? void 0 : _c.name) === prelude_1.AlexaConversations.utterances &&
            Array.isArray(node.expression.arguments) &&
            node.expression.arguments.length === 2 &&
            ((_d = node.expression.arguments[0].name) === null || _d === void 0 ? void 0 : _d.name) === "act" &&
            ((_e = checker.getType(node.expression.arguments[0])) === null || _e === void 0 ? void 0 : _e.isRequestAct()) &&
            ((_f = node.expression.arguments[1].name) === null || _f === void 0 ? void 0 : _f.name) === "samples" &&
            Array.isArray(node.expression.genericArguments) &&
            node.expression.genericArguments.length >= 1) {
            // This large condition detects the exact form that the UI produces utterance sets.
            // The UI produces the ASKIR equivallent to this ACDL:
            //
            //    weatherRequestInvoke = utterances<WeatherRequestType, Invoke>(
            //           act: Invoke{},
            //           samples:["what is the weather in {city}", "how cold it is in {city}"])
            //
            // <WeatherRequestType, Invoke> are the two generic arguments refered to in the condition.
            // act and samples are the two arguments in the condition where act is a request act.
            // This code will transform ASKIR equivalent to the ACDL above into ASKIR equivalent to the ACDL below:
            //
            //    weatherRequestInvoke = utterances<WeatherRequestType>(
            //           samples:["what is the weather in {city}", "how cold it is in {city}"])
            //
            // Another possible variant of the UI code is
            //
            //    weatherRequestInvoke = utterances<Invoke>(
            //           act: Invoke{},
            //           samples:["what is the weather", "how cold is it"])
            //
            // Which gets turned into:
            //
            //     weatherRequestInvoke = utterances(
            //           samples:["what is the weather", "how cold is it"])
            //
            // This transformation is necessary because ACDL does not yet support the 'utterances' with two arguments
            // which would be a breaking change, and there is not yet a good version solution to introduce breaking changes.
            // The code here will store Invoke in requestActArgumentValue for later use in an expect call as mentioned in the
            // comment close to the use of requestActArgumentValue
            const nameWithLocale = getNameInLocale(node.name.name, localePrefix);
            const requestAct = ((_h = (_g = node.expression.arguments[0].value) === null || _g === void 0 ? void 0 : _g.name) === null || _h === void 0 ? void 0 : _h.name) || "";
            const listCallArgument = node.expression.arguments[1];
            const genericArguments = node.expression.genericArguments.length === 2
                ? [new ask.TypeReference(new ask.Name(getNameInLocale(((_k = (_j = node.expression.genericArguments[0]) === null || _j === void 0 ? void 0 : _j.name) === null || _k === void 0 ? void 0 : _k.name) || "", localePrefix)))]
                : undefined;
            eventRequestActs.set(nameWithLocale, requestAct);
            // Note that the annotations of the original expressions are preserved
            return new ask.NameDeclaration(new ask.Name(nameWithLocale), node.type, new ask.Call(new ask.Name(prelude_1.AlexaConversations.utterances), [listCallArgument], genericArguments, node.expression.annotations, node.expression.loc), node.annotations, node.loc);
        }
    }
    else if (node.kind === "Call") {
        const nameWithLocale = getNameInLocale((_l = node.name) === null || _l === void 0 ? void 0 : _l.name, localePrefix);
        if (nameWithLocale && eventRequestActs.has(nameWithLocale)) {
            // This code transforms the ASKIR generated by the UI corresponding to this ACDL:
            //
            //     dialog Nothing dialogName_GetWeather() {
            //        sample {
            //           weatherRequest = weatherRequestInvoke()
            //
            // To the format supported in the current ACDL:
            //
            //     dialog Nothing dialogName_GetWeather() {
            //        sample {
            //           weatherRequest = expect(Invoke, weatherRequestInvoke)
            //
            // This is done because ACDL does not yet support callable events which is a breaking change
            // and we do not yet have a good versioning story for ACDL
            const eventRequestAct = eventRequestActs.get(nameWithLocale);
            return new ask.Call(new ask.Name(prelude_1.AlexaConversations.expect), [
                new ask.Argument(undefined, 0, new ask.NameReference(new ask.Name(eventRequestAct))),
                new ask.Argument(undefined, 1, new ask.NameReference(new ask.Name(nameWithLocale))),
            ]);
        }
        if (typeof node.arguments === "string") {
            if (node.arguments.startsWith("../../")) {
                // change from "../../" to "../"
                return new ask.Call(node.name, node.arguments.substr(3), node.genericArguments, node.annotations, node.loc);
            }
        }
    }
    return (0, visit_1.transformEachChild)(node, (child) => transformUINodes(child, localePrefix, checker, eventRequestActs));
}
/**
 * A skill is UI skill if it has the following directory structure and file names
 * conversations/<locale>/6 JSON files of names (variable UIFileNames in this method)
 * @param project Project
 * @returns True if UI skill, false otherwise
 */
async function isUISkill(project) {
    if (project.config.srcDir !== "conversations")
        return false;
    const locales = new Set(Object.keys(prelude_1.Locale));
    const UIFileNames = new Set([
        "dialogs.json",
        "audio_responses.json",
        "visual_responses.json",
        "utterances.json",
        "apis.json",
        "types.json",
    ]);
    for (const askirFile of project.sourceModules) {
        const filePath = askirFile.uri.replace(`${askirFile.baseDir}/`, "").split("/");
        // If the length is not 2, it means that additional directory/file exists
        if (filePath.length !== 2) {
            return false;
        }
        const locale = filePath[0];
        const fileName = filePath[1];
        if (!locales.has(locale.replace("-", "_")) || !UIFileNames.has(fileName))
            return false;
        localesUsed.add(locale);
    }
    return true;
}
exports.isUISkill = isUISkill;
/**
 * Moves all the ASKIR json files to directly under conversations folder, with locale prefix appended to file names
 * @param project Project
 */
async function flattenDirectoryAndChangeFileNames(project) {
    const conversationsDir = path_1.default.join(project.config.rootDir, "skill-package", project.config.srcDir);
    for (const locale of localesUsed) {
        const localePrefix = localesUsed.size > 1 ? `${locale}.` : "";
        const jsonFiles = await fs_extra_1.default.readdir(path_1.default.join(conversationsDir, locale));
        for (const file of jsonFiles) {
            await fs_extra_1.default.rename(path_1.default.join(conversationsDir, locale, file), path_1.default.join(conversationsDir, localePrefix + file));
        }
        await fs_extra_1.default.rmdir(path_1.default.join(conversationsDir, locale));
    }
}
/**
 * Creates the APLA declarations for each skill level responses for each locale,
 * Groups them together using variations,
 * and creates skill action
 * @param project
 * @returns Newly created ask.Module
 */
async function createSkillAction(project) {
    const expr = [];
    let lastAPLANames = [];
    for (const { skillLevelResponseName } of skillLevelResponses) {
        lastAPLANames = [];
        for (const locale of localesUsed) {
            const myAPLAName = `skill.my${skillLevelResponseName}_${locale.replace("-", "_")}`;
            lastAPLANames.push(new ask.NameReference(new ask.Name(myAPLAName)));
            expr.push(new ask.NameDeclaration(new ask.Name(myAPLAName), undefined, new ask.Call(new ask.Name(prelude_1.AlexaConversations.apla), [
                new ask.Argument(new ask.Name("path"), undefined, new ask.Call(new ask.Name("com.amazon.alexa.ask.conversations.Path"), path_1.default.join("..", "response", "prompts", skillLevelResponseName, "document.json"))),
            ]), [
                new ask.Annotation(new ask.Call(new ask.Name(prelude_1.AlexaConversations.locale), [
                    new ask.Argument(new ask.Name("locales"), 0, new ask.PropertyReference(new ask.Name(locale.replace("-", "_")), new ask.NameReference(new ask.Name(prelude_1.AlexaConversations.Locale)))),
                ])),
            ]));
        }
        /**
         * Creates
         * AlexaConversationsWelcome = variations(
         * myAlexaConversationsWelcome_en_GB,
         * myAlexaConversationsWelcome_en_US
         * )
         */
        const aplaListItemArray = [];
        let idx = 0;
        for (const aplaNames of lastAPLANames) {
            aplaListItemArray.push(new ask.ListItem(aplaNames, idx++));
        }
        const variationsSkillLevelResponse = [];
        variationsSkillLevelResponse.push(new ask.Argument(new ask.Name("variations"), undefined, new ask.Call(new ask.Name(prelude_1.AlexaConversations.Args), new ask.ListLiteral(aplaListItemArray))));
        expr.push(new ask.NameDeclaration(new ask.Name(`skill.${skillLevelResponseName}`), undefined, new ask.Call(new ask.Name(prelude_1.AlexaConversations.variations), variationsSkillLevelResponse)));
    }
    /**
     * Gets the skillLevelResponses parameter for skill action
     */
    const skillActionSkillLevelResponseParameter = [];
    for (const { skillLevelResponse, skillLevelResponseName } of skillLevelResponses) {
        skillActionSkillLevelResponseParameter.push(new ask.Argument(new ask.Name(skillLevelResponse), undefined, new ask.NameReference(new ask.Name(`skill.${skillLevelResponseName}`))));
    }
    /**
     * Gets the locale parameter for skill action
     */
    const skillActionLocaleParameter = [];
    for (const locale of localesUsed) {
        skillActionLocaleParameter.push(new ask.PropertyReference(new ask.Name(typeof locale === "string" ? locale.replace("-", "_") : undefined), new ask.NameReference(new ask.Name(prelude_1.AlexaConversations.Locale))));
    }
    let idx = 0;
    expr.push(new ask.NameDeclaration(new ask.Name("skill.mySkill"), undefined, new ask.Call(new ask.Name(prelude_1.AlexaConversations.skill), [
        new ask.Argument(new ask.Name("locales"), undefined, new ask.Call(new ask.Name(prelude_1.AlexaSchema.List), new ask.ListLiteral(skillActionLocaleParameter.map((item) => new ask.ListItem(item, idx++))))),
        new ask.Argument(new ask.Name("skillLevelResponses"), undefined, new ask.Call(new ask.Name(prelude_1.AlexaConversations.SkillLevelResponses), skillActionSkillLevelResponseParameter)),
    ])));
    const module = new ask.Module(path_1.default.join(project.config.rootDir, "skill-package", project.config.srcDir), ask.ModuleSchema, new ask.Name("skill"), undefined, // import
    undefined, // export
    expr);
    return module;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNmb3JtVUlQcm9qZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RyYW5zZm9ybVVJUHJvamVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHdEQUEwQjtBQUMxQixnREFBd0I7QUFDeEIsMkNBQTZCO0FBQzdCLHVDQUFrQztBQUNsQywyQ0FBc0U7QUFDdEUsbUNBQW9DO0FBQ3BDLG1DQUEyQztBQUMzQyx1Q0FBc0M7QUFHdEM7O0dBRUc7QUFDSCxNQUFNLGlCQUFpQixHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUVySDs7R0FFRztBQUNILE1BQU0sbUJBQW1CLEdBQUc7SUFDMUIsRUFBQyxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsc0JBQXNCLEVBQUUsMkJBQTJCLEVBQUM7SUFDcEYsRUFBQyxrQkFBa0IsRUFBRSxlQUFlLEVBQUUsc0JBQXNCLEVBQUUsK0JBQStCLEVBQUM7SUFDOUYsRUFBQyxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsc0JBQXNCLEVBQUUsdUJBQXVCLEVBQUM7SUFDNUUsRUFBQyxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsc0JBQXNCLEVBQUUsK0JBQStCLEVBQUM7SUFDeEYsRUFBQyxrQkFBa0IsRUFBRSxjQUFjLEVBQUUsc0JBQXNCLEVBQUUsK0JBQStCLEVBQUM7Q0FDOUYsQ0FBQztBQUNGOztHQUVHO0FBQ0gsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQVUsQ0FBQztBQUN0Qzs7Ozs7O0dBTUc7QUFDSSxLQUFLLFVBQVUsa0JBQWtCLENBQUMsT0FBZ0I7SUFDdkQsTUFBTSxrQ0FBa0MsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUVsRCxNQUFNLGtCQUFFLENBQUMsU0FBUyxDQUNoQixjQUFJLENBQUMs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