#!/usr/bin/env node
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.main = void 0;
require("source-map-support/register");
const aws_sdk_1 = __importDefault(require("aws-sdk"));
const fs_extra_1 = __importDefault(require("fs-extra"));
const path_1 = __importDefault(require("path"));
const yargs_1 = __importDefault(require("yargs"));
const smapi_1 = require("./smapi");
const project_config_1 = require("./project-config");
const synthesize_1 = require("./synthesize");
const project_1 = require("./project");
const validate_1 = require("./validate");
const util_1 = require("./util");
const bundle_1 = require("./bundle");
const decompile_1 = require("./decompile");
const package_1 = require("./package");
const parse_1 = require("./parse");
const compile_1 = require("./compile");
const error_1 = require("./error");
/**
 * ACDL Compiler CLI.
 */
async function main() {
    const { argv } = (0, yargs_1.default)(process.argv.slice(2))
        .scriptName("acc")
        .version((await getPkgManifest(__dirname)).version)
        .usage("Usage: $0")
        .alias("h", "help")
        .help("help")
        .showHelpOnFail(true)
        // .command(["$0", "build"], "compile a single ACDL file to ASKIR", () => {})
        .command("compile", "compile ACDL module", (yargs) => yargs
        .option("file", {
        type: "string",
        demandOption: true,
        requiresArg: true,
        description: "compiles a single ACDL file to ASKIR JSON, emitting it along-side the ACDL file.",
    })
        .option("skip-validation", {
        type: "boolean",
        demandOption: false,
        default: false,
        description: "Force the CLI to generate ASKIR without validation.",
    }))
        .command("package", "create a skill-package", () => { })
        .command("decompile", "decompile ASKIR files to ACDL files and move the ASKIR files to the build directory", (yargs) => yargs.option("skip-validation", {
        type: "boolean",
        demandOption: false,
        default: false,
        description: "Force the CLI to generate ACDL without validation.",
    }))
        .command("deploy", "package and deploy the skill", (yargs) => yargs
        .option("skill-id", {
        type: "string",
        demandOption: true,
        requiresArg: true,
        description: "Skill ID to deploy",
    })
        .option("profile", {
        type: "string",
        requiresArg: true,
        description: "ASK CLI profile to use when deploying the Skill.",
        default: "default",
    })
        .option("skill-package", {
        type: "string",
        requiresArg: true,
        description: "Optional path of a pre-compiled skill-package directory. If none is provided, a skill-package will be compiled from source.",
    }))
        .command("bootstrap-lwa-secrets-manager", "store LWA refresh token credentials in a secure AWS Secret managed by AWS Secrets Manager", (yargs) => yargs
        .option("secret-id", {
        type: "string",
        requiresArg: true,
        demandOption: true,
        description: "ARN of the AWS Secrets Manager credentials to upload the ASK refresh token to",
    })
        .option("profile", {
        type: "string",
        requiresArg: true,
        description: "ASK CLI profile to use when deploying the Skill.",
        default: "default",
    })
        .option("aws-profile", {
        type: "string",
        requiresArg: true,
        description: "name of profile configured in ~/.aws/config and ~/.aws/credentials",
        default: "default",
    })
        .option("aws-region", {
        type: "string",
        requiresArg: true,
        description: "AWS region the Secret Resides in",
    }))
        .command("bootstrap", "Creates a CloudFormation stack with a Secure AWS Secret Manager and uploads your LWA credentials credential to the Secret.", (yargs) => yargs
        .option("secret-name", {
        type: "string",
        requiresArg: true,
        demandOption: false,
        description: "Name of the AWS Secret to upload the ASK credentials to.",
    })
        .option("profile", {
        type: "string",
        requiresArg: true,
        description: "ASK CLI profile to use when deploying the Skill.",
        default: "default",
    })
        .option("aws-profile", {
        type: "string",
        requiresArg: true,
        description: "Name of the AWS profile configured in ~/.aws/config and ~/.aws/credentials.",
        default: "default",
    })
        .option("regions", {
        type: "string",
        requiresArg: true,
        description: "AWS Regions to create the CFN stacks and AWS secrets into.",
    })
        .option("client_id", {
        type: "string",
        requiresArg: true,
        description: "The login-with-amazon client id to store in the AWS secret.",
    })
        .option("client_secret", {
        type: "string",
        requiresArg: true,
        description: "The login-with-amazon client secret to store in the AWS secret.",
    })
        .option("skip-stack", {
        type: "boolean",
        default: false,
        description: "Skips creating a CloudFormation Stack and creates the AWS Secret. This may lead to dangling resources.",
    }))
        .option("verbose", {
        alias: "v",
        type: "boolean",
        description: "Run with verbose logging",
        default: false,
    })
        .option("skip-validation", {
        type: "boolean",
        demandOption: false,
        default: false,
        description: "Force the CLI to generate ASKIR without validation.",
    })
        .parserConfiguration({
        "camel-case-expansion": false,
    })
        .strict();
    const command = argv._[0];
    if (command === "bootstrap-lwa-secrets-manager") {
        await bootstrapLwa();
    }
    else if (command === "bootstrap") {
        await bootstrap();
    }
    else if (command === "compile") {
        const module = await (0, parse_1.loadACDLFile)(process.cwd(), argv.file);
        const project = new project_1.Project({
            config: {
                rootDir: process.cwd(),
                srcDir: "conversations",
                outDir: "build",
                projectVersion: package_1.ProjectVersion.SingleFile,
            },
            external: [await (0, package_1.loadBundledPackage)("schema"), await (0, package_1.loadBundledPackage)("ac-core")],
            source: {
                modules: [module],
            },
        });
        const errors = (0, validate_1.validateProject)(project, false, argv["skip-validation"]);
        if ((0, error_1.hasTerminalErrors)(errors)) {
            (0, error_1.logProjectErrors)(errors);
            process.exit(1);
        }
        if (module.content) {
            const outputFile = argv.file.replace(".acdl", ".json");
            await fs_extra_1.default.writeFile(outputFile, JSON.stringify((0, compile_1.compileModule)(project, module.content), null, 2));
        }
        else {
            throw new Error("");
        }
    }
    else {
        const projectConfig = await (0, project_config_1.loadProjectConfig)();
        const project = await (0, project_1.loadProject)(projectConfig);
        const errors = (0, validate_1.validateProject)(project, false, argv["skip-validation"]);
        const SyntaxErrors = errors.filter((e) => e.code.category === "SyntaxError" /* ErrorCategory.SyntaxError */);
        if (command === "decompile") {
            if (SyntaxErrors !== undefined && SyntaxErrors.length > 0 && errors !== undefined) {
                (0, error_1.logProjectErrors)(errors);
                process.exit(1);
            }
            else {
                await (0, decompile_1.decompileProject)(project);
                return;
            }
        }
        if (errors !== undefined && (0, error_1.hasTerminalErrors)(errors)) {
            (0, error_1.logProjectErrors)(errors);
            process.exit(1);
        }
        else if (command === undefined || command === "build") {
            await build();
        }
        else if (command === "package" || command === "deploy") {
            const bundleProjectOutput = await bundle();
            if ((0, error_1.hasTerminalErrors)(bundleProjectOutput.errors) && !argv["skip-validation"]) {
                (0, error_1.logProjectErrors)(bundleProjectOutput.errors);
                process.exit(1);
            }
            if (command === "deploy" && bundleProjectOutput.skillPackageZip !== undefined) {
                await deploy(bundleProjectOutput.skillPackageZip);
            }
        }
        (0, error_1.logProjectWarnings)(errors);
        async function build() {
            await (0, synthesize_1.synthesizeProject)(project);
        }
        function bundle() {
            return (0, bundle_1.bundleProjectZip)(project);
        }
        async function deploy(skillPackageZip) {
            var _a;
            const skillId = argv["skill-id"];
            const smapi = await initSmapi();
            const location = await smapi.createUploadUrl();
            await smapi.uploadSkillPackage(skillPackageZip, location);
            try {
                await smapi.importSkillPackage(skillId, location);
            }
            catch (err) {
                if (typeof ((_a = err.response) === null || _a === void 0 ? void 0 : _a.message) === "string") {
                    // catch errors thrown by SMAPI
                    throw new Error(err.response.message);
                }
                throw err;
            }
        }
    }
    async function getPkgManifest(currentDir) {
        const potentialPkgPath = path_1.default.resolve(currentDir, "package.json");
        if (await (0, util_1.isFile)(potentialPkgPath)) {
            return JSON.parse(await fs_extra_1.default.readFile(potentialPkgPath, { encoding: "utf8" }));
        }
        return getPkgManifest(path_1.default.resolve(currentDir, ".."));
    }
    /**
     * Uploads a login-with-amazon (LWA) profile to AWS secrets manager.
     *
     * TODO: get secret ID from the CFN stack output - https://github.com/aws/aws-cdk/issues/1773
     */
    async function bootstrapLwa() {
        var _a;
        // @see https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-region.html#setting-region-config-file
        process.env.AWS_SDK_LOAD_CONFIG = "true";
        const smapi = await initSmapi();
        const credentials = new aws_sdk_1.default.SharedIniFileCredentials({
            profile: (_a = argv["aws-profile"]) !== null && _a !== void 0 ? _a : "default",
        });
        const secretManager = new aws_sdk_1.default.SecretsManager({ credentials, region: argv["aws-region"] });
        // store the profile as JSON in secrets manager
        await secretManager
            .putSecretValue({
            SecretId: argv["secret-id"],
            SecretString: JSON.stringify(smapi.profile),
        })
            .promise();
    }
    /**
     * Uploads a login-with-amazon (LWA) profile to AWS secrets manager.
     *
     * TODO: get secret ID from the CFN stack output - https://github.com/aws/aws-cdk/issues/1773
     */
    async function bootstrap() {
        var _a, _b, _c, _d;
        // @see https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-region.html#setting-region-config-file
        process.env.AWS_SDK_LOAD_CONFIG = "true";
        const regions = (_b = (_a = argv.regions) === null || _a === void 0 ? void 0 : _a.split(",")) !== null && _b !== void 0 ? _b : [];
        const skipStack = argv["skip-stack"];
        // If the user doesn't provide regions, then SecretsManager will
        // use the default AWS CLI region instead of undefined
        if (regions.length === 0) {
            regions.push(undefined);
        }
        const smapi = await initSmapi();
        const clientId = argv.client_id;
        const clientSecret = argv.client_secret;
        if (clientId) {
            smapi.profile.client_id = clientId;
        }
        if (clientSecret) {
            smapi.profile.client_secret = clientSecret;
        }
        const credentials = new aws_sdk_1.default.SharedIniFileCredentials({
            profile: (_c = argv["aws-profile"]) !== null && _c !== void 0 ? _c : "default",
        });
        const secretName = (_d = argv["secret-name"]) !== null && _d !== void 0 ? _d : `ask-config-${smapi.profile.vendor_id}`;
        const CfnTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Resources: {
                AskConfigSecret: {
                    Type: "AWS::SecretsManager::Secret",
                    Properties: {
                        Name: secretName,
                        Description: "Secret creation for Alexa Skills Kit.",
                    },
                },
            },
        };
        const stackParams = {
            StackName: secretName,
            TemplateBody: JSON.stringify(CfnTemplate),
        };
        // Create or update the secret in each region
        for (const region of regions) {
            const cloudformation = new aws_sdk_1.default.CloudFormation({ credentials, region });
            const secretManager = new aws_sdk_1.default.SecretsManager({ credentials, region });
            // Grab the region from cloudformation if user did not input any regions
            const awsRegion = cloudformation.config.region;
            // Create the CFN stack to store the AWS Secret. If the stack already exists,
            // the CFN API returns an AlreadyExistsException
            try {
                if (skipStack) {
                    await secretManager.createSecret({ Name: secretName }).promise();
                    console.log(`Created secret ${secretName} in ${awsRegion}.`);
                }
                else {
                    const stackId = (await cloudformation.createStack(stackParams).promise()).StackId;
                    console.log(`Starting creation of ${secretName} Stack in ${awsRegion}.`);
                    await pollStackCreation(cloudformation, stackId, awsRegion);
                }
            }
            catch (err) {
                const resource = skipStack ? "Secret" : "Stack";
                if (err.code === "AlreadyExistsException") {
                    console.log(`${secretName} ${resource} already exists in ${awsRegion}. Skipping creation.`);
                }
                else {
                    console.log(`Error creating ${resource}: ${secretName} in ${awsRegion}.`);
                    console.log(err);
                    process.exit(1);
                }
            }
            // Store the ASK profile as JSON in secrets manager
            try {
                await secretManager
                    .putSecretValue({
                    SecretId: secretName,
                    SecretString: JSON.stringify(smapi.profile),
                })
                    .promise();
                console.log(`Successfully uploaded LWA credentials to AWS secret ${secretName} in ${awsRegion}.`);
            }
            catch (err) {
                console.log(`Failed uploading LWA credentials to AWS secret ${secretName} in ${awsRegion}.`);
                console.log(err);
                process.exit(1);
            }
        }
        // Polls the stack creation until the status is complete
        // Throws an error if there is an unexpected status
        async function pollStackCreation(cloudformation, stackId, region) {
            try {
                const stacks = (await cloudformation.describeStacks({ StackName: stackId }).promise()).Stacks;
                if (stacks === undefined) {
                    throw new Error("Error creating the CloudFormation stack. Stack doesn't exist.");
                }
                const stack = stacks[0];
                const status = stack.StackStatus;
                if (status === "CREATE_COMPLETE") {
                    console.log(`Created ${secretName} Stack in ${region}`);
                }
                else if (status === "REVIEW_IN_PROGRESS" || status === "CREATE_IN_PROGRESS") {
                    console.log(`Stack(${region}) status: ${status}`);
                    await new Promise((resolve) => {
                        setTimeout(resolve, 2000);
                    });
                    await pollStackCreation(cloudformation, stackId, region);
                }
                else {
                    // Occurs when the stack fails to create with a CREATE_FAILED status
                    throw new Error(`Error creating ${secretName} Stack in ${region}. Encountered ${status} status. Status reason: ${stack.StackStatusReason}.`);
                }
            }
            catch (err) {
                console.log(err);
                console.log(`You may need to manually delete the Stack(${region}) from CloudFormation.`);
                process.exit(1);
            }
        }
    }
    async function initSmapi() {
        var _a;
        const cliConfig = await (0, smapi_1.loadCliConfig)();
        const profileName = (_a = argv.profile) !== null && _a !== void 0 ? _a : "default";
        const lwaProfile = cliConfig.profiles[profileName];
        if (lwaProfile === undefined) {
            throw new Error(`could not load profile '${profileName}' from ~/.ask/cli_config`);
        }
        return new smapi_1.SmapiClient(lwaProfile);
    }
}
exports.main = main;
(0, util_1.time)("main", () => main())
    .then(() => {
    console.log("SUCCESS");
})
    .catch((err) => {
    console.log("FAILURE");
    console.error(err);
    process.exit(1);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0EsdUNBQXFDO0FBRXJDLHNEQUEwQjtBQUUxQix3REFBMEI7QUFDMUIsZ0RBQXdCO0FBQ3hCLGtEQUEwQjtBQUUxQixtQ0FBbUQ7QUFFbkQscURBQW1EO0FBQ25ELDZDQUErQztBQUMvQyx1Q0FBK0M7QUFDL0MseUNBQTJDO0FBQzNDLGlDQUFvQztBQUNwQyxxQ0FBMEM7QUFDMUMsMkNBQTZDO0FBQzdDLHVDQUE2RDtBQUM3RCxtQ0FBcUM7QUFDckMsdUNBQXdDO0FBRXhDLG1DQUFnRjtBQUVoRjs7R0FFRztBQUNJLEtBQUssVUFBVSxJQUFJO0lBQ3hCLE1BQU0sRUFBQyxJQUFJLEVBQUMsR0FBRyxJQUFBLGVBQUssRUFBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QyxVQUFVLENBQUMsS0FBSyxDQUFDO1NBQ2pCLE9BQU8sQ0FBQyxDQUFDLE1BQU0sY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ2xELEtBQUssQ0FBQyxXQUFXLENBQUM7U0FDbEIsS0FBSyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7U0FDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNaLGNBQWMsQ0FBQyxJQUFJLENBQUM7UUFFckIsNkVBQTZFO1NBQzVFLE9BQU8sQ0FBQyxTQUFTLEVBQUUscUJBQXFCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUNuRCxLQUFLO1NBQ0YsTUFBTSxDQUFDLE1BQU0sRUFBRTtRQUNkLElBQUksRUFBRSxRQUFRO1FBQ2QsWUFBWSxFQUFFLElBQUk7UUFDbEIsV0FBVyxFQUFFLElBQUk7UUFDakIsV0FBVyxFQUFFLGtGQUFrRjtLQUNoRyxDQUFDO1NBQ0QsTUFBTSxDQUFDLGlCQUFpQixFQUFFO1FBQ3pCLElBQUksRUFBRSxT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