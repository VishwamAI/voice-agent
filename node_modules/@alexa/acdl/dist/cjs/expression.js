"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConditionalBranch = exports.Ensure = exports.ConfirmAction = exports.ConfirmArgs = exports.Response = exports.Expect = exports.DialogExpansion = exports.InvokeApi = exports.ActionExpression = exports.FunctionExpression = exports.BlockExpression = exports.End = exports.Start = void 0;
class BaseExpression {
    constructor(prev, flow) {
        var _a, _b;
        Object.defineProperty(this, "prev", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: prev
        });
        Object.defineProperty(this, "flow", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: flow
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * A reference to the Type Environment this Expression belongs in.
         */
        Object.defineProperty(this, "checker", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * The exact ASKIR Expression node which expressed this Expression.
         */
        Object.defineProperty(this, "node", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * Sourece Code Location of the Call representing this Expression.
         */
        Object.defineProperty(this, "loc", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * Source Code URI of the code containing this Expression.
         */
        Object.defineProperty(this, "uri", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.node = flow.expression;
        this.checker = flow.checker;
        this.loc = (_a = flow.expression) === null || _a === void 0 ? void 0 : _a.loc;
        this.uri = (_b = flow.expression) === null || _b === void 0 ? void 0 : _b.uri;
    }
    isAction() {
        return this instanceof ActionExpression;
    }
    isBlock() {
        return this instanceof BlockExpression;
    }
    isConditionalBranch() {
        return this instanceof ConditionalBranch;
    }
    isConfirmAction() {
        return this instanceof ConfirmAction;
    }
    isConfirmArgs() {
        return this instanceof ConfirmArgs;
    }
    isDialogExpansion() {
        return this instanceof DialogExpansion;
    }
    isEnsure() {
        return this instanceof Ensure;
    }
    isExpect() {
        return this instanceof Expect;
    }
    isEnd() {
        return this instanceof End;
    }
    isInvokeApi() {
        return this instanceof InvokeApi;
    }
    isResponse() {
        return this instanceof Response;
    }
    isStart() {
        return this instanceof Start;
    }
}
/**
 * Represents the Start of a Dialog Flow. This is usually used to detect the beginning
 * when traversing back through the Stack of previously received Expressions. It is
 * always the first expression in a {@link Flow.interpret} stream.
 */
class Start extends BaseExpression {
    constructor(prev, flow) {
        super(prev, flow);
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Start"
        });
    }
}
exports.Start = Start;
/**
 * Represents the End of a Dialog Flow. This Expression is the last Expression you'll ever
 * receive in a {@link Flow.interpret} stream. Use this to finalize evaluation of the Expression
 * stream.
 */
class End extends BaseExpression {
    constructor(prev, flow) {
        super(prev, flow);
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "End"
        });
    }
}
exports.End = End;
/**
 * Represents entering a Block.
 */
class BlockExpression extends BaseExpression {
    constructor(prev, flow) {
        super(prev, flow);
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Block"
        });
    }
}
exports.BlockExpression = BlockExpression;
class FunctionExpression extends BaseExpression {
    constructor(prev, flow, 
    /**
     * The Function to call.
     */
    func, 
    /**
     * Optional name-value pairs for the Arguments passed to the API.
     */
    args) {
        super(prev, flow);
        Object.defineProperty(this, "func", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: func
        });
        Object.defineProperty(this, "arguments", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "apply", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.arguments = args;
        this.apply = flow.checker.getApply(this.node);
    }
}
exports.FunctionExpression = FunctionExpression;
/**
 * A Call to any Action (apis, built-ins, etc.).
 */
class ActionExpression extends FunctionExpression {
    constructor(prev, flow, 
    /**
     * The API's Action to call.
     */
    action, 
    /**
     * Optional name-value pairs for the Arguments passed to the API.
     */
    args) {
        super(prev, flow, action, args);
        Object.defineProperty(this, "action", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: action
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Action"
        });
    }
}
exports.ActionExpression = ActionExpression;
/**
 * Invoke of an external API Action.
 *
 * ```
 * action String foo(String arg)
 * // ..
 * f = foo("hello")
 * ```
 */
class InvokeApi extends ActionExpression {
    constructor(prev, flow, 
    /**
     * The API's Action to call.
     */
    action, 
    /**
     * Name-value pairs for the Arguments passed to the API.
     */
    args) {
        super(prev, flow, action, args);
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "InvokeApi"
        });
    }
}
exports.InvokeApi = InvokeApi;
/**
 * Call to expand a Dialog.
 *
 * ```
 * dialog Foo(String arg) {}
 * // ..
 * fooDialog("hello")
 * ```
 */
class DialogExpansion extends FunctionExpression {
    constructor(prev, flow, 
    /**
     * The Dialog to call and expand the samples of in the simulation.
     */
    dialog, 
    /**
     * Name-value pairs for the Arguments passed to the Dialog.
     */
    args) {
        super(prev, flow, dialog, args);
        Object.defineProperty(this, "dialog", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: dialog
        });
        Object.defineProperty(this, "args", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: args
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Dialog"
        });
    }
}
exports.DialogExpansion = DialogExpansion;
/**
 * Represents an invound Request via the `expect` action.
 *
 * ```
 * expect(Invoke, my_utterance_event)
 * ```
 */
class Expect extends ActionExpression {
    constructor(prev, flow, 
    /**
     * The value of the Request Act.
     */
    act, 
    /**
     * The received Event.
     */
    event) {
        super(prev, flow);
        Object.defineProperty(this, "act", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: act
        });
        Object.defineProperty(this, "event", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: event
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Expect"
        });
    }
    /**
     * @returns the type of the Act.
     */
    getActType() {
        var _a;
        return (_a = this.act) === null || _a === void 0 ? void 0 : _a.type.getTypeType();
    }
    isAffirm() {
        var _a, _b, _c, _d;
        return ((_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type.getTypeType()) === null || _b === void 0 ? void 0 : _b.isAffirm()) || ((_d = (_c = this.act) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.isAffirm());
    }
    isDeny() {
        var _a, _b, _c, _d;
        return ((_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type.getTypeType()) === null || _b === void 0 ? void 0 : _b.isDeny()) || ((_d = (_c = this.act) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.isDeny());
    }
    isInvoke() {
        var _a, _b, _c, _d;
        return ((_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type.getTypeType()) === null || _b === void 0 ? void 0 : _b.isInvoke()) || ((_d = (_c = this.act) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.isInvoke());
    }
    isInform() {
        var _a, _b, _c, _d;
        return ((_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type.getTypeType()) === null || _b === void 0 ? void 0 : _b.isInform()) || ((_d = (_c = this.act) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.isInform());
    }
}
exports.Expect = Expect;
/**
 * Send a Response to the user.
 *
 * Is a Call Expression to `com.amazon.alexa.ask.conversations.response`
 *
 * ```acdl
 * response(
 *   response = my_apla_tempalte
 *   payload = Payload {
 *     key = value
 *   },
 *   act = Request { arguments = [foo.arguments.bar] },
 * })
 * ```
 */
class Response extends ActionExpression {
    constructor(prev, flow, 
    /**
     * The Apply instance for the actual Call Expression to the `response` Action.
     */
    apply, 
    /**
     * The Response template to use for this Response.
     */
    response, 
    /**
     * The Response Act value for this Response.
     */
    act, 
    /**
     * Optional nextAct value for this Response.
     */
    nextAct, 
    /**
     * Value of the Payload to be passed to the APL/A Response Template.
     */
    payload, 
    /**
     * Optional literal String representing the surface form of this Response.
     */
    surfaceForm) {
        super(prev, flow);
        Object.defineProperty(this, "flow", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: flow
        });
        Object.defineProperty(this, "apply", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: apply
        });
        Object.defineProperty(this, "response", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: response
        });
        Object.defineProperty(this, "act", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: act
        });
        Object.defineProperty(this, "nextAct", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: nextAct
        });
        Object.defineProperty(this, "payload", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: payload
        });
        Object.defineProperty(this, "surfaceForm", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: surfaceForm
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Response"
        });
        Object.defineProperty(this, "actNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "responseNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.actNode = apply.getArgumentValue("act");
        this.responseNode = apply.getArgumentValue("response");
    }
    /**
     * If {@link Response.act} is `Request` then return the list of all the Action Arguments {@link ArgumentThing} that were individually requested.
     *
     * Individually requested arguments must exist for all required Arguments when calling an Action.
     */
    getIndividuallyRequestedArguments() {
        var _a, _b, _c;
        if ((_a = this.act) === null || _a === void 0 ? void 0 : _a.type.isRequest()) {
            const args = (_c = (_b = this.act.getProperty("arguments")) === null || _b === void 0 ? void 0 : _b.asLiteralList()) === null || _c === void 0 ? void 0 : _c.getItems();
            if ((args === null || args === void 0 ? void 0 : args.length) === 1) {
                return args.map((item) => item === null || item === void 0 ? void 0 : item.asArgument()).filter((a) => a !== undefined);
            }
        }
        return [];
    }
}
exports.Response = Response;
/**
 * An ambient Expression to Confirm Arguments that will be passed to some API Action.
 *
 * ```
 * confirmArgs([
 
 * ])
 *
 * ```
 */
class ConfirmArgs extends ActionExpression {
    constructor(prev, flow, 
    /**
     * Lis
     */
    confirmArgs) {
        super(prev, flow);
        Object.defineProperty(this, "confirmArgs", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: confirmArgs
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "ConfirmArgs"
        });
    }
}
exports.ConfirmArgs = ConfirmArgs;
/**
 * A Response to the user to to confirm that Alexa should call some API.
 */
class ConfirmAction extends ActionExpression {
    constructor(prev, flow, response, actionName, payload) {
        var _a;
        super(prev, flow);
        Object.defineProperty(this, "response", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: response
        });
        Object.defineProperty(this, "actionName", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: actionName
        });
        Object.defineProperty(this, "payload", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: payload
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "ConfirmAction"
        });
        Object.defineProperty(this, "actionNameNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.actionNameNode = (_a = this.apply) === null || _a === void 0 ? void 0 : _a.getArgument("actionName");
    }
}
exports.ConfirmAction = ConfirmAction;
/**
 * An ambient expression informing Alexa how to request various arguments for various actions.
 */
class Ensure extends ActionExpression {
    constructor(prev, flow, requestArgs) {
        super(prev, flow);
        Object.defineProperty(this, "requestArgs", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: requestArgs
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Ensure"
        });
    }
    /**
     * Gets a list of all the Action Arguments {@link ArgumentThing} that were individually requested.
     *
     * Individually requested arguments must exist for all required Arguments when calling an Action.
     */
    getIndividuallyRequestedArguments() {
        var _a, _b, _c, _d;
        return ((_d = (_c = (_b = (_a = this.requestArgs) === null || _a === void 0 ? void 0 : _a.asLiteralList()) === null || _b === void 0 ? void 0 : _b.getItems()) === null || _c === void 0 ? void 0 : _c.map((item) => {
            var _a, _b, _c, _d;
            if (item === null || item === void 0 ? void 0 : item.type.isRequestArguments()) {
                const args = (_a = item.getProperty("arguments")) === null || _a === void 0 ? void 0 : _a.asLiteralList();
                if (args !== undefined && ((_b = args.getItems()) === null || _b === void 0 ? void 0 : _b.length) === 1) {
                    return ((_d = (_c = args
                        .getItems()) === null || _c === void 0 ? void 0 : _c.map((item) => item === null || item === void 0 ? void 0 : item.asArgument()).filter((a) => a !== undefined)) !== null && _d !== void 0 ? _d : []);
                }
            }
            return [];
        }).reduce((a, b) => a.concat(b), [])) !== null && _d !== void 0 ? _d : []);
    }
}
exports.Ensure = Ensure;
/**
 * Represents a fork in the Dialog Flow based on Condition. Expressions after receiving a ConditionalBranch
 * are the expressions contained within the if OR within the else. {@link Flow.interpret} will call your
 * callback once if there is no `else` and twice if there is.
 */
class ConditionalBranch extends BaseExpression {
    constructor(prev, flow, expr) {
        super(prev, flow);
        Object.defineProperty(this, "expr", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: expr
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Condition"
        });
    }
}
exports.ConditionalBranch = ConditionalBranch;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwcmVzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHByZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQXdCQSxNQUFNLGNBQWM7SUF1QmxCLFlBQXFCLElBQTRCLEVBQVcsSUFBZ0I7Ozs7OzttQkFBdkQ7Ozs7OzttQkFBdUM7O1FBdEI1RDs7Ozs7V0FBa0M7UUFFbEM7O1dBRUc7UUFDSDs7Ozs7V0FBOEI7UUFFOUI7O1dBRUc7UUFDSDs7Ozs7V0FBb0I7UUFFcEI7O1dBRUc7UUFDSDs7Ozs7V0FBNkM7UUFFN0M7O1dBRUc7UUFDSDs7Ozs7V0FBaUM7UUFHL0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsR0FBRyxHQUFHLE1BQUEsSUFBSSxDQUFDLFVBQVUsMENBQUUsR0FBRyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBQSxJQUFJLENBQUMsVUFBVSwwQ0FBRSxHQUFHLENBQUM7SUFDbEMsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksWUFBWSxnQkFBZ0IsQ0FBQztJQUMxQyxDQUFDO0lBRU0sT0FBTztRQUNaLE9BQU8sSUFBSSxZQUFZLGVBQWUsQ0FBQztJQUN6QyxDQUFDO0lBRU0sbUJBQW1CO1FBQ3hCLE9BQU8sSUFBSSxZQUFZLGlCQUFpQixDQUFDO0lBQzNDLENBQUM7SUFFTSxlQUFlO1FBQ3BCLE9BQU8sSUFBSSxZQUFZLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBRU0sYUFBYTtRQUNsQixPQUFPLElBQUksWUFBWSxXQUFXLENBQUM7SUFDckMsQ0FBQztJQUVNLGlCQUFpQjtRQUN0QixPQUFPLElBQUksWUFBWSxlQUFlLENBQUM7SUFDekMsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksWUFBWSxNQUFNLENBQUM7SUFDaEMsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksWUFBWSxNQUFNLENBQUM7SUFDaEMsQ0FBQztJQUVNLEtBQUs7UUFDVixPQUFPLElBQUksWUFBWSxHQUFHLENBQUM7SUFDN0IsQ0FBQztJQUVNLFdBQVc7UUFDaEIsT0FBTyxJQUFJLFlBQVksU0FBUyxDQUFDO0lBQ25DLENBQUM7SUFFTSxVQUFVO1FBQ2YsT0FBTyxJQUFJLFlBQVksUUFBUSxDQUFDO0lBQ2xDLENBQUM7SUFFTSxPQUFPO1FBQ1osT0FBTyxJQUFJLFlBQVksS0FBSyxDQUFDO0lBQy9CLENBQUM7Q0FDRjtBQUVEOzs7O0dBSUc7QUFDSCxNQUFhLEtBQU0sU0FBUSxjQUFxQztJQUc5RCxZQUFZLElBQTRCLEVBQUUsSUFBaUM7UUFDekUsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUhwQjs7OzttQkFBeUIsT0FBTztXQUFDO0lBSWpDLENBQUM7Q0FDRjtBQU5ELHNCQU1DO0FBRUQ7Ozs7R0FJRztBQUNILE1BQWEsR0FBSSxTQUFRLGNBQXlCO0lBR2hELFlBQVksSUFBNEIsRUFBRSxJQUFxQjtRQUM3RCxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBSHBCOzs7O21CQUF1QixLQUFLO1dBQUM7SUFJN0IsQ0FBQztDQUNGO0FBTkQsa0JBTUM7QUFFRDs7R0FFRztBQUNILE1BQWEsZUFBZ0IsU0FBUSxjQUF5QjtJQUc1RCxZQUFZLElBQTRCLEVBQUUsSUFBcUI7UUFDN0QsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUhwQjs7OzttQkFBeUIsT0FBTztXQUFDO0lBSWpDLENBQUM7Q0FDRjtBQU5ELDBDQU1DO0FBT0QsTUFBYSxrQkFBbUIsU0FBUSxjQUF3QjtJQUs5RCxZQUNFLElBQTRCLEVBQzVCLElBQW9CO0lBQ3BCOztPQUVHO0lBQ00sSUFBK0I7SUFDeEM7O09BRUc7SUFDSCxJQUErQjtRQUUvQixLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDOzs7OzttQkFOVDs7UUFWWDs7Ozs7V0FBbUM7UUFFbkM7Ozs7O1dBQWtDO1FBZWhDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hELENBQUM7Q0FDRjtBQXJCRCxnREFxQkM7QUFFRDs7R0FFRztBQUNILE1BQWEsZ0JBQWlCLFNBQVEsa0JBQWtCO0lBR3RELFlBQ0UsSUFBNEIsRUFDNUIsSUFBb0I7SUFDcEI7O09BRUc7SUFDTSxNQUFvQjtJQUM3Qjs7T0FFRztJQUNILElBQW9CO1FBRXBCLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7bUJBTnZCOztRQVJYOzs7O21CQUEwQixRQUFRO1dBQUM7SUFlbkMsQ0FBQztDQUNGO0FBakJELDRDQWlCQztBQUVEOzs7Ozs7OztHQVFHO0FBQ0gsTUFBYSxTQUFVLFNBQVEsZ0JBQWdCO0lBRzdDLFlBQ0UsSUFBNEIsRUFDNUIsSUFBb0I7SUFDcEI7O09BRUc7SUFDSCxNQUErQjtJQUMvQjs7T0FFRztJQUNILElBQW9CO1FBRXBCLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQWRsQzs7OzttQkFBbUMsV0FBVztXQUFDO0lBZS9DLENBQUM7Q0FDRjtBQWpCRCw4QkFpQkM7QUFFRDs7Ozs7Ozs7R0FRRztBQUNILE1BQWEsZUFBZ0IsU0FBUSxrQkFBa0I7SUFHckQsWUFDRSxJQUE0QixFQUM1QixJQUFvQjtJQUNwQjs7T0FFRztJQUNNLE1BQStCO0lBQ3hDOztPQUVHO0lBQ00sSUFBbUI7UUFFNUIsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDOzs7OzttQkFOdkI7Ozs7OzttQkFJQTs7UUFaWDs7OzttQkFBMEIsUUFBUTtXQUFDO0lBZW5DLENBQUM7Q0FDRjtBQWpCRCwwQ0FpQkM7QUFFRDs7Ozs7O0dBTUc7QUFDSCxNQUFhLE1BQU8sU0FBUSxnQkFBZ0I7SUFHMUMsWUFDRSxJQUE0QixFQUM1QixJQUFvQjtJQUNwQjs7T0FFRztJQUNNLEdBQXNCO0lBQy9COztPQUVHO0lBQ00sS0FBd0I7UUFFakMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7bUJBTlQ7Ozs7OzttQkFJQTs7UUFaWDs7OzttQkFBZ0MsUUFBUTtXQUFDO0lBZXpDLENBQUM7SUFFRDs7T0FFRztJQUNJLFVBQVU7O1FBQ2YsT0FBTyxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRU0sUUFBUTs7UUFDYixPQUFPLENBQUEsTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsMENBQUUsUUFBUSxFQUFFLE1BQUksTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksMENBQUUsUUFBUSxFQUFFLENBQUEsQ0FBQztJQUNoRixDQUFDO0lBRU0sTUFBTTs7UUFDWCxPQUFPLENBQUEsTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsMENBQUUsTUFBTSxFQUFFLE1BQUksTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksMENBQUUsTUFBTSxFQUFFLENBQUEsQ0FBQztJQUM1RSxDQUFDO0lBRU0sUUFBUTs7UUFDYixPQUFPLENBQUEsTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsMENBQUUsUUFBUSxFQUFFLE1BQUksTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksMENBQUUsUUFBUSxFQUFFLENBQUEsQ0FBQztJQUNoRixDQUFDO0lBRU0sUUFBUTs7UUFDYixPQUFPLENBQUEsTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsMENBQUUsUUFBUSxFQUFFLE1BQUksTUFBQSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksMENBQUUsUUFBUSxFQUFFLENBQUEsQ0FBQztJQUNoRixDQUFDO0NBQ0Y7QUF4Q0Qsd0JBd0NDO0FBRUQ7Ozs7Ozs7Ozs7Ozs7O0dBY0c7QUFDSCxNQUFhLFFBQVMsU0FBUSxnQkFBZ0I7SUFPNUMsWUFDRSxJQUE0QixFQUNuQixJQUFvQjtJQUM3Qjs7T0FFRztJQUNNLEtBQVk7SUFDckI7O09BRUc7SUFDTSxRQUFnQjtJQUN6Qjs7T0FFRztJQUNNLEdBQVc7SUFDcEI7O09BRUc7SUFDTSxPQUFlO0lBQ3hCOztPQUVHO0lBQ00sT0FBZTtJQUN4Qjs7T0FFRztJQUNNLFdBQXlCO1FBRWxDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Ozs7O21CQTFCVDs7Ozs7O21CQUlBOzs7Ozs7bUJBSUE7Ozs7OzttQkFJQTs7Ozs7O21CQUlBOzs7Ozs7bUJBSUE7Ozs7OzttQkFJQTs7UUFoQ1g7Ozs7bUJBQWtDLFVBQVU7V0FBQztRQUU3Qzs7Ozs7V0FBdUM7UUFFdkM7Ozs7O1dBQTRDO1FBK0IxQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGlDQUFpQzs7UUFDdEMsSUFBSSxNQUFBLElBQUksQ0FBQyxHQUFHLDBDQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUM5QixNQUFNLElBQUksR0FBRyxNQUFBLE1BQUEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLDBDQUFFLGFBQWEsRUFBRSwwQ0FBRSxRQUFRLEVBQUUsQ0FBQztZQUM1RSxJQUFJLENBQUEsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE1BQU0sTUFBSyxDQUFDLEVBQUU7Z0JBQ3RCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFVBQVUsRUFBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUM7YUFDL0U7U0FDRjtRQUNELE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztDQUNGO0FBdERELDRCQXNEQztBQUVEOzs7Ozs7Ozs7R0FTRztBQUNILE1BQWEsV0FBWSxTQUFRLGdCQUFnQjtJQUcvQyxZQUNFLElBQTRCLEVBQzVCLElBQW9CO0lBQ3BCOztPQUVHO0lBQ00sV0FBa0M7UUFFM0MsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7bUJBRlQ7O1FBUlg7Ozs7bUJBQXFDLGFBQWE7V0FBQztJQVduRCxDQUFDO0NBQ0Y7QUFiRCxrQ0FhQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxhQUFjLFNBQVEsZ0JBQWdCO0lBS2pELFlBQ0UsSUFBNEIsRUFDNUIsSUFBb0IsRUFDWCxRQUFlLEVBQ2YsVUFBd0IsRUFDeEIsT0FBZTs7UUFFeEIsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7bUJBSlQ7Ozs7OzttQkFDQTs7Ozs7O21CQUNBOztRQVRYOzs7O21CQUF1QyxlQUFlO1dBQUM7UUFFdkQ7Ozs7O1dBQWtEO1FBVWhELElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBQSxJQUFJLENBQUMsS0FBSywwQ0FBRSxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDOUQsQ0FBQztDQUNGO0FBZkQsc0NBZUM7QUFFRDs7R0FFRztBQUNILE1BQWEsTUFBTyxTQUFRLGdCQUFnQjtJQUcxQyxZQUFZLElBQTRCLEVBQUUsSUFBb0IsRUFBVyxXQUFrQztRQUN6RyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDOzs7OzttQkFEcUQ7O1FBRnpFOzs7O21CQUFnQyxRQUFRO1dBQUM7SUFJekMsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxpQ0FBaUM7O1FBQ3RDLE9BQU8sQ0FDTCxNQUFBLE1BQUEsTUFBQSxNQUFBLElBQUksQ0FBQyxXQUFXLDBDQUNaLGFBQWEsRUFBRSwwQ0FDZixRQUFRLEVBQUUsMENBQ1YsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7O1lBQ2IsSUFBSSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLEVBQUU7Z0JBQ25DLE1BQU0sSUFBSSxHQUFHLE1BQUEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsMENBQUUsYUFBYSxFQUFFLENBQUM7Z0JBQzVELElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFBLE1BQUEsSUFBSSxDQUFDLFFBQVEsRUFBRSwwQ0FBRSxNQUFNLE1BQUssQ0FBQyxFQUFFO29CQUN2RCxPQUFPLENBQ0wsTUFBQSxNQUFBLElBQUk7eUJBQ0QsUUFBUSxFQUFFLDBDQUNULEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFVBQVUsRUFBRyxFQUNsQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxTQUFTLENBQUMsbUNBQUksRUFBRSxDQUN4QyxDQUFDO2lCQUNIO2FBQ0Y7WUFDRCxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUMsRUFDQSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxtQ0FBSSxFQUFFLENBQzNDLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFsQ0Qsd0JBa0NDO0FBRUQ7Ozs7R0FJRztBQUNILE1BQWEsaUJBQWtCLFNBQVEsY0FBNkI7SUFHbEUsWUFBWSxJQUE0QixFQUFFLElBQXlCLEVBQVcsSUFBdUI7UUFDbkcsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7bUJBRDBEOztRQUY5RTs7OzttQkFBNkIsV0FBVztXQUFDO0lBSXpDLENBQUM7Q0FDRjtBQU5ELDhDQU1DIn0=